"use strict";function getAlllength(e){var n=e.value,l=n.length;return null!==n.match(/[\u4e00-\u9fa5]/g)&&(l+=n.match(/[\u4e00-\u9fa5]/g).length),l}var span1,span2,span3,numRule=/^1[3578]\d{9}\b/,passRule=/\W/;username.onblur=function(){span1=document.querySelector(".name1"),username.value?(span1.style.display="none",username.style.borderColor="yellowgreen"):(span1.style.display="block",username.style.borderColor="red")},phone.onblur=function(){span1=document.querySelector(".num1"),span2=document.querySelector(".num2"),phone.value?(span1.style.display="none",numRule.test(phone.value)?(span2.style.display="none",phone.style.borderColor="yellowgreen"):(span2.style.display="block",phone.style.borderColor="red")):(span1.style.display="block",span2.style.display="none",phone.style.borderColor="red")},yanzhengma.onblur=function(){span1=document.querySelector(".num3"),span2=document.querySelector(".num4"),yanzhengma.value?(span1.style.display="none",yanzhengma.value==yzm.innerHTML?(span2.style.display="none",yanzhengma.style.borderColor="yellowgreen"):(span2.style.display="block",yanzhengma.style.borderColor="red")):(span1.style.display="block",span2.style.display="none",yanzhengma.style.borderColor="red")},yzm.innerHTML=ma(),yzm.onclick=function(){yzm.innerHTML=ma(),yanzhengma.value=""},pass.onblur=function(){span1=document.querySelector(".num5"),span2=document.querySelector(".num6"),span3=document.querySelector(".num7"),pass.value?(span1.style.display="none",pass.value.length==getAlllength(pass)?(span3.style.display="none",6<=pass.value.length&&pass.value.length<=14?(span2.style.display="none",pass.style.borderColor="yellowgreen"):(span2.style.display="block",pass.style.borderColor="red")):(span2.style.display="none",span3.style.display="block",pass.style.borderColor="red")):(span1.style.display="block",span2.style.display="none",span3.style.display="none",pass.style.borderColor="red")},cmf.onblur=function(){span1=document.querySelector(".num8"),cmf.value==pass.value?(span1.style.display="none",cmf.style.borderColor="yellowgreen"):(span1.style.display="block",cmf.style.borderColor="red")};for(var spanall=document.querySelectorAll("span"),flag=!0,i=0;i<spanall.length;i++)if("block"==spanall[i].style.display){flag=!1;break}var form=document.querySelector(".form"),nameInp=document.querySelector(".username"),passInp=document.querySelector(".password");form.onsubmit=function(e){(e=e||window.event).preventDefault();var n=nameInp.value,l=passInp.value;n&&l?$.ajax({url:"/regi",type:"post",data:{username:n,password:l},dataType:"json",success:function(e){1==e.code&&(setCookie("login",n),window.location.href="../pages/index.html"),0==e.code&&alert("注册失败")}}):alert("请完整填写表单")};