"use strict";getlist();var flag=0,list=[],oldlist=[];function getlist(){$.ajax({url:"../lib/data.json",dataType:"json",success:function(n){(list=n).forEach(function(n){oldlist.push(n)}),pagi(n)}})}function pagi(i){$(".pagi").pagination({pageCount:Math.ceil(i.length/16),current:1,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(n){var t=n.getCurrent();console.log(t),bindHtml(i.slice(16*(t-1),16*t))}}),bindHtml(i.slice(0,16))}function bindHtml(n){var t="";n.forEach(function(n){t+='\n            <li>\n                <div class="Goods-one"> \n                    <img src="'.concat(n.scr,'" />\n                    <p class="price">￥').concat(n.price,'</p>\n                    <p class="title">').concat(n.title,'</p>\n         \t        <p class="shop"><span class="shop_name">').concat(n.shop,'</span><span class="shop_sell">已售').concat(n.sell,'</span></p>\n                    <p class="check"><a href="">查看详情</a></p>\n                </div>\n            </li>\n            ')}),$(".Goods-items").html(t)}var pbtn=document.querySelector(".pbtn");pbtn.onclick=function(){$(this).addClass("active").parent().siblings().children().removeClass("active"),0==flag?(flag=1,pbtn.innerHTML="价格 ↑",list.sort(function(n,t){return n.price-t.price}),pagi(list)):1==flag?(flag=2,pbtn.innerHTML="价格 ↓",list.sort(function(n,t){return t.price-n.price}),pagi(list)):2==flag&&(flag=0,pbtn.innerHTML="价格",pagi(oldlist),$(this).removeClass("active").parent().siblings().children().addClass("active"))};var cbtn=document.querySelector(".cbtn");cbtn.onclick=function(){$(this).addClass("active").parent().siblings().children().removeClass("active"),$(this).parent().siblings().children().html("价格")};